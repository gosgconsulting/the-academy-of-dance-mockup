"undefined"==typeof pgAdaptor&&(window.pgAdaptor={requestTailwindExternalConfig:async function(e,t,n){var r=require("path"),i=r.resolve(e,"./package.json");if("file"!==crsaIsFileOrDir(i))pinegrow.showAlert(`<p>Customization works with <code>npm</code> based Tailwind compilation workflow. Using other ways, such us the standalone executable Tailwind compiler are not supported.</p><p>To setup <code>npm</code> based Tailwind CSS compilation, follow the official <a href="https://tailwindcss.com/docs/installation" class="external">Tailwind CSS installation documentation</a>.</p>`,"Tailwind customization requires <code>npm</code> based workflow","Cancel","Done. Try again.",null,function(){pgAdaptor.requestTailwindExternalConfig(e,t,n)});else{i=await(new PgExternalTailwindVersionDetector).detect(!1);if(i)if(4===i)try{var a=await(new PgTailwindConfigReaderV4).getConfig(e,n);pinegrow.dispatchEvent("on_tailwind_config_received",null,{theme:a,version:4})}catch(e){pinegrow.showQuickError(`Unable to get Tailwind CSS configuration: `+e.toString())}else{var o,i=r.resolve(e,"./node_modules/@pinegrow/tailwindcss-plugin");if("dir"!==crsaIsFileOrDir(i))pinegrow.showAlert(`<p>Install the plugin to enable ${pgf.product_name_short} to gather information about the Tailwind CSS theme in the project:</p><pre>
cd ${e}
npm install @pinegrow/tailwindcss-plugin@latest -D
</pre>`,"Pinegrow Tailwind CSS plugin is required to customize visual controls","Cancel","Done. Try again.",null,function(){pgAdaptor.requestTailwindExternalConfig(e,t,n)});else{try{var s=t.replace(/(\.[a-z]+)$/i,Math.round(1e5*Math.random())+"$1"),l=(crsaCopyFileSync(null,t,s,null,!1),t=s,n.replace(/(\.[a-z]+)$/i,Math.round(1e5*Math.random())+"$1"));crsaCopyFileSync(null,n,l,null,!1),n=l;var c=await require(i).tailwindParser.init({projectRoot:e,dependencyRoot:null,watchMode:!1,postcss:null,customPostCssPath:null,configPath:t,cssPath:n,cssOutputPath:null,cssOutputMinify:null});c.logs?.forEach(e=>{"error"===e.type&&(console.log(`Pinegrow Tailwind CSS Plugin: An error occurred!`),e.logMessage&&console.log(e.logMessage),e.errMessage)&&console.log(e.errMessage)}),pgIsDev()&&console.log(c),pinegrow.dispatchEvent("on_tailwind_config_received",null,{classListRaw:c.classListRaw,config:c.config,variants:c.variants,classList:c.classList}),c.destroy&&await c.destroy()}catch(e){pinegrow.showQuickError(`Unable to get Tailwind CSS configuration: `+e.toString())}try{s&&((o=require("fs")).unlinkSync(s),o.unlinkSync(l))}catch(e){console.warn(`Unable to cleanup temp Tailwind config.`,e)}}}}}});var PgTailwindHelpers=function(L,u,e){"function"!=typeof L.reqVersion&&(L.reqVersion=function(){return!0});function A(e,t){return Y(e,t)}function p(e,t,n,r,i,a,o){var s=A(e,a[i+o])+"",l="";return s.startsWith("-")&&(l="-",s=s.substr(1,s.length)),(r!=L.size_for_all?r+`:`:"")+l+t+n+"-"+s}function V(e){switch(e){case"":return["t","l","r","b"];case"x":return["l","r"];case"y":return["t","b"];default:return[e]}}function O(e,t,n){var r,i;return n?(""==(r=e)?r="inset":-1<["x","y"].indexOf(e)&&(r="inset-"+e),i="",n.startsWith("-")&&(i="-",n=n.substr(1,n.length)),(t!=L.size_for_all?t+`:`:"")+i+r+"-"+n):null}function D(e){switch(e){case"":return["top","left","right","bottom"];case"x":return["left","right"];case"y":return["top","bottom"];default:return[e]}}function W(e,t,n,r){var i;return r?((r+=i="").startsWith("-")&&(i="-",r=r.substr(1,r.length)),(n!=L.size_for_all?n+`:`:"")+i+e+t+"-"+r):null}function z(e,t,n,r,i){return r?(n==L.size_for_all?"":n+":")+i+e+"-"+(""==t?"":t+"-")+r:null}function M(e,t,n,r){return r||""==r?(n==L.size_for_all?"":n+`:`)+e+(t?"-"+t:"")+(r?"-"+r:""):null}function R(e,t){if("border"==e)return""!==t?[t]:["t","l","r","b"];if("rounded"==e)switch(t){case"":return["tl","tr","bl","br"];case"t":return["tr","tl"];case"l":return["tl","bl"];case"r":return["tr","br"];case"b":return["bl","br"];default:return[t]}}function w(e){var t=$(e.target).closest(".change-all-icon,.change-all-border-raduis");if(t.toggleClass("active"),t.hasClass("active")){function n(e,t,n){return e.replace("{type}",t).replace("{direction}",n)}for(var r=t.data("valueObject")[L.size_for_all],i=t.data("directions"),a=t.data("type"),o=0;o<i.length;o++){var s=i[o],l=t.data("frKey"),c=t.data("sdKey"),d=r,l=(l&&(d=d[n(l,a,s)]),(d=c?d[n(c,a,s)]:d).getValue());l&&d.setValue(l,!0)}}}function T(e,t){if(""==t)return!0;if("x"==t){if(-1<["right","left"].indexOf(e))return!0}else if("y"==t&&-1<["top","bottom"].indexOf(e))return!0;return!1}function a(e,a){if(4<=L.getTWVersion())return u.twGetOptionsDimensions(e,{empty:!0,numbers:!0,negative_numbers:"m"===a,add_halfs_until:5,fractions:!1,containers:!1,extras:"m"===a?["auto","px"]:["px"]});if(L.twc.has_data())return L.twc.getOptions(e,"p"===a?"padding":"margin","p"===a?/padding/:/margin/,"m"===a,function(e){for(var t=!1,n=(0==N[a].points.length&&(t=!0),"-"),r=0;r<e.length;r++){var i=e[r]["name"];n.startsWith("-")&&!i.startsWith("-")&&""!==i&&e.splice(r,0,{key:"",name:""}),t&&N[a].points.push(i),n=i}});N[a].points=N[a].default_points;var t,n=N[a].points.slice(0),r=[],i=[],o="unshift";"p"==a?(t=n[n.length-1],n.splice(n.length-1,1),r.push({key:e+t,name:t}),r.push({key:"",name:""})):i=n.splice(n.length-2,2);for(var s=0;s<n.length;s++){var l=n[s];r[o]({key:e+n[s],name:l,num:l})}if("m"==a){for(s=0;s<i.length;s++)r.push({key:e+i[s],name:i[s]});r.push({key:"",name:""});for(s=1;s<n.length;s++){l=-1*n[s];r.push({key:"-"+e+n[s],name:l,num:l})}}return r}function o(e,t,a){if(4<=L.getTWVersion())return u.twGetOptionsDimensions(e,{empty:!0,numbers:!0,negative_numbers:!0,fractions:!0,negative_fractions:!0,containers:!1,extras:["px",`-px`,"full",`-full`,"auto"]});if(L.twc.has_data())return L.twc.getOptions(e,t,null,!0,function(e){for(var t=!1,n=(0!=Q.length||a||(t=!0),"-"),r=0;r<e.length;r++){var i=e[r]["name"];n.startsWith("-")&&!i.startsWith("-")&&""!==i&&e.splice(r,0,{key:"",name:""}),t&&Q.push(i),n=i}});var n=[];Q=function(){if(L.getTWVersion()<2)return l;var e=L.getSpacingPoints();e.push("1/2"),e.push("1/3"),e.push("2/3"),e.push("1/4"),e.push("2/4"),e.push("3/4");for(var t=(t=["auto","full"]).concat(e),n=0;n<e.length;n++)t.push("-"+e[n]);return t}(),n.push({key:"",name:""});for(var r=0;r<Q.length;r++){var i=Q[r];n.push({key:e+i,name:i})}return n}function i(e,o,t){function n(e){var t=!1;0==K[o].points.length&&(t=!0);for(var n=0;n<e.length;n++){var{name:r,key:i}=e[n],a=r;r.startsWith("-")?a=r=r.substring(1,r.length):""==r&&""!=i&&("border"==o?r="1px":"rounded"==o&&(r="normal")),"normal"!==a&&"1px"!==a||(a=""),e[n]={key:i,name:r},t&&K[o].points.push(a)}return e}if(4<=L.getTWVersion()){if("border"===o)return n(u.twGetOptionsDimensions(e+"-",{empty:!0,numbers:!0,fractions:!1,containers:!1,extras:[]}));if("rounded"===o)return n(L.twc.getOptions(e,"border-radius",null,!1,null,"rounded"))}var r;if(L.twc.has_data())return r="","border"==o?r="border"+(t?"-"+t:"")+"-width":"rounded"==o&&(r="border"+(t?"-"+t:"")+"-radius"),L.twc.getOptions(e,r,null,!1,n);for(var i=[],a=(K[o].points=K[o].default_points,K[o].points),s=0;s<a.length;s++){var l,c=a[s];0==c.length?"border"==o?i.push({key:e,name:"1px"}):"rounded"==o&&i.push({key:e,name:"Normal"}):(l={key:e+"-"+c,name:crsaCamelize(c)},c=parseInt(c),isNaN(c)||(l["num"]=c),i.push(l))}return i}var t=L.rc,q=(L.framework_prefix="tw"+e,L.container_selector=".container",L.grid_container_selector="grid",L.style="",L.no_include_local_question=!0,L.showGridInMenu=!1,L.showColumnInMenu=!1,L.createDisplayHelpers=!1,L.makeResponsiveClass),n=L.registerClasses,d=(L.spacingPoints,new PgFrameworkHelpers("Tailwind",L,u,e,PgBSMenuPointColumnSize)),r=(new PgToggleButtonMaker,d.getCodeForLarge=function(){var e;switch(this.version){case 4:e='<pgdiv class="col-1 pinegrow-ui-helper"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>';break;case 3:e='<pgdiv class="col-xs-1 pinegrow-ui-helper"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>'}return e},d.getCodeForSmall=function(){var e;switch(this.version){case 4:e='<pgdiv class="col-1 pinegrow-ui-helper d-block d-sm-none" style="padding-left:0;padding-right:0;"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>';break;case 3:e='<pgdiv class="col-xs-1 pinegrow-ui-helper visible-xs visible-xs-block" style="padding-left:0;padding-right:0;"><pgdiv class="pinegrow-ui-helper"></pgdiv></pgdiv>'}return e},d.getClassForSize=function(e,t,n){return null==n?n="":n+="",t+(e==L.size_for_all?"":"-"+e)+(n.length?"-"+n:"")},d.getColumnSizes=function(e){var r=new RegExp("^col(\\-("+L.sizes.join("|")+"))?(\\-([0-9]+|auto))?"),i={};return(e instanceof pgParserNode?e.getClasses():e.classList).forEach(function(e){var t,n=e.match(r);n&&(t=n[2]||L.size_for_all,n=n[4]||"",i[t]=n)}),i},new PgDelayedTasks),f=(d.executeScriptInPageDelayed=function(e,t){r.run("runCode"+t+e.uid,function(){pinegrow.executeScriptInPage(e,t)},1e3)},d.makeFieldLabelForSize=function(e,t){return'<span class="tw-label">'+e+'</span><span class="tw-device-size">'+t+"</span>"},d.getDevicesControlFactory=function(n,e,o,t,i){function r(t){["all"].forEach(function(e){t(e,e==L.size_for_all?"":"-"+e,L.prefix+n+"."+e)})}return function(){var a=new PgCustomPropertyControl(L.prefix+n);return a.onDefine=function(){r(function(e,t,n){var r=o(e,t);r.parent_section_id=i,a.registerInputField(n,r)})},a.onShow=function(){var i=$("<div/>",{class:"tw-device-control "+t});return $('<div class="tw-device-control-title">'+e+"</div>").appendTo(i),r(function(e,t,n){var r=o(e,t);a.showInputField(i,n,r).$field.attr("data-device-size",e)}),i},a.onSetValues=function(e){var i=!0;r(function(e,t,n){var r=a.get$Field(n);a.values[n]?(r.addClass("tw-has-value"),e!=L.size_for_all&&(i=!1)):r.removeClass("tw-has-value")}),i?a.$element.addClass("tw-none-or-all"):a.$element.removeClass("tw-none-or-all")},a}},{}),B=(d.onSectionWithDevicesControlsShown=function(t,e){var n,r,i,a=d,o={},s=!0,l=["all"],c=(o["all"]=!0,e.$content.get(0).querySelectorAll("[data-device-size]"));l.forEach(function(e){f[t.section_key]&&f[t.section_key][e]&&(o[e]=!0)}),c.forEach(function(e){var t,n=e.getAttribute("data-device-size");o[n]||(t=e.classList.contains("tw-has-value"),o[n]=t,s=s&&!t)}),s&&(o[L.size_for_all]=!0),c.forEach(function(e){var t=e.getAttribute("data-device-size"),n=e.getAttribute("data-device-display")||"flex";o[t]?pgShow(e,n):pgHide(e)});n=pinegrow.getSelectedPage(),c.forEach(function(e){var t=e.getAttribute("data-device-size");a.isSizeVisible(n,t)?e.classList.remove("tw-size-not-visible"):e.classList.add("tw-size-not-visible")}),r=0,i=!1,l.forEach(function(e){o[e]&&(r++,e==L.size_for_all)&&(i=!0)}),c=e.$content.find(".tw-device-control"),1<r?c.removeClass("tw-single-size"):c.addClass("tw-single-size"),i?c.addClass("tw-for-all-shown"):c.removeClass("tw-for-all-shown")},{}),G={},N={m:{directions:["","x","y","t","l","r","b"],default_points:L.getSpacingPoints().concat(["px","auto"]),points:[]},p:{directions:["","x","y","t","l","r","b"],default_points:L.getSpacingPoints().concat(["px"]),points:[]}},j={},I={},U=["","x","y","top","left","right","bottom"],l=["0","auto"],Q=[],g={},P={translate:{directions:["x","y"],default_points:L.getSpacingPoints().concat(["px","full","1/2"]),points:[]},scale:{directions:["x","y"],default_points:["0","50","75","90","95","100","105","110","125","150"],points:[]},skew:{directions:["x","y"],default_points:["0","1","2","3","6","12"],points:[]},rotate:{directions:[""],default_points:["0","1","2","3","6","12","45","90","180"],points:[]}},J={},K={border:{directions:["","t","r","b","l"],default_points:["","0","2","4","8"],points:[]},rounded:{directions:["","t","r","b","l","tl","tr","br","bl"],default_points:["none","sm","","md","lg","xl","2xl","3xl","full"],points:[]}},H={},Y=(d.onTailwindUpdated=function(){for(var e in N)N[e].points=[];for(var e in Q=[],P)P[e].points=[];for(var e in K)K[e].points=[]},function(e,t){var n,r;return t&&(n=!1,(r=t).startsWith("-")&&(n=!0,r=r.substr(1,r.length)),r.startsWith(e))?(0<(r=r.replace(e,"")).length&&(r=r.substr(1,r.length)),n?`-`+r:r):null}),s=(t.add(function(){n("margin.padding.all.m",a("m-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.mx",a("mx-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.my",a("my-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.mt",a("mt-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.ml",a("ml-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.mr",a("mr-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.mb",a("mb-","m"),"tw.spacing")}),t.add(function(){n("margin.padding.all.p",a("p-","p"),"tw.spacing")}),t.add(function(){n("margin.padding.all.px",a("px-","p"),"tw.spacing")}),t.add(function(){n("margin.padding.all.py",a("py-","p"),"tw.spacing")}),t.add(function(){n("margin.padding.all.pt",a("pt-","p"),"tw.spacing")}),t.add(function(){n("margin.padding.all.pl",a("pl-","p"),"tw.spacing")}),t.add(function(){n("margin.padding.all.pr",a("pr-","p"),"tw.spacing")}),t.add(function(){n("margin.padding.all.pb",a("pb-","p"),"tw.spacing")}),t.add(function(){n("position.all.inset",o("inset-","top",!0),"tw.position")}),t.add(function(){n("position.all.x",o("inset-x-","left"),"tw.position")}),t.add(function(){n("position.all.y",o("inset-y-","top"),"tw.position")}),t.add(function(){n("position.dir.all.top",o("top-","top"),"tw.position")}),t.add(function(){n("position.dir.all.left",o("left-","left"),"tw.position")}),t.add(function(){n("position.dir.all.right",o("right-","right"),"tw.position")}),t.add(function(){n("position.dir.all.bottom",o("bottom-","bottom"),"tw.position")}),d.getOptionsTransform=function(t,a,n,o){if(4<=L.getTWVersion()){let e=[];if("translate"===a)return e=["px","full"],n||e.push("none"),u.twGetOptionsDimensions(t,{numbers:100,step:1,negative_numbers:!0,fractions:!0,extras:e,prepend_extras:!0});if("scale"===a)return"both"===n&&(e.push("none"),e.push("3d")),u.twGetOptionsDimensions(t,{numbers:200,step:1,negative_numbers:!0,fractions:!1,extras:e,prepend_extras:!0});if("rotate"===a)return""===n&&e.push("none"),u.twGetOptionsDimensions(t,{numbers:360,step:function(e){return(e=Math.abs(e))<=15?0:e%15},negative_numbers:!0,fractions:!1,extras:e,prepend_extras:!0});if("skew"===a)return u.twGetOptionsDimensions(t,{numbers:360,step:function(e){return(e=Math.abs(e))<=15?0:e%15},negative_numbers:!0,fractions:!1,extras:e,prepend_extras:!0})}if(L.twc.has_data())return L.twc.getOptions(t,"both"===n?[`--tw-${a}-x`,`--tw-${a}-y`]:`--tw-`+a+(n?"-"+n:""),null,"scale"!=a,function(e){for(var t=!1,n=(0!=P[a].points.length||o||(t=!0),"-"),r=0;r<e.length;r++){var i=e[r]["name"];n.startsWith("-")&&!i.startsWith("-")&&""!==i&&e.splice(r,0,{key:"",name:""}),t&&P[a].points.push(i),n=i}});var e=[],r=(P[a].points=P[a].default_points,P[a].points),i="unshift";"scale"==a&&(i="push",e.push({key:"",name:""}));for(var s=0;s<r.length;s++){var l=crsaCamelize(r[s]),c=parseInt(r[s]);e[i]({key:t+r[s],name:l,num:c})}if("scale"!=a){e.push({key:"",name:""});for(s=1;s<r.length;s++){var d={key:"-"+t+r[s]};isNaN(parseInt(r[s]))||-1<r[s].indexOf("/")?d["name"]="-"+crsaCamelize(r[s]):(c=-1*r[s],d["name"]=c,d["num"]=c),e.push(d)}}return e});t.add(function(){4<=L.getTWVersion()&&(n("transform.translate.all",s("translate-","translate",""),"tw.transform"),n("transform.translate.z.all",s("translate-z-","translate","z"),"tw.transform"),n("transform.scale.z.all",s("scale-z-","scale","z"),"tw.transform"),n("transform.rotate.x.all",s("rotate-x-","rotate","x"),"tw.transform"),n("transform.rotate.y.all",s("rotate-y-","rotate","y"),"tw.transform"),n("transform.rotate.z.all",s("rotate-z-","rotate","z"),"tw.transform"),n("transform.skew.all",s("skew-","skew",""),"tw.transform"))}),t.add(function(){n("transform.translate.x.all",s("translate-x-","translate","x"),"tw.transform")}),t.add(function(){n("transform.translate.x.all",s("translate-x-","translate","x"),"tw.transform")}),t.add(function(){n("transform.translate.y.all",s("translate-y-","translate","y"),"tw.transform")}),t.add(function(){n("transform.scale.all",s("scale-","scale","both",!0),"tw.transform")}),t.add(function(){n("transform.scale.x.all",s("scale-x-","scale","x"),"tw.transform")}),t.add(function(){n("transform.rotate.all",s("rotate-","rotate",""),"tw.transform")}),t.add(function(){n("transform.skew.x.all",s("skew-x-","skew","x"),"tw.transform")}),t.add(function(){n("transform.skew.y.all",s("skew-y-","skew","y"),"tw.transform")});return t.add(function(){n("border.border.all",i("border","border",""),"tw.border")}),t.add(function(){n("border.border.t.all",i("border-t","border","top"),"tw.border")}),t.add(function(){n("border.border.l.all",i("border-l","border","left"),"tw.border")}),t.add(function(){n("border.border.r.all",i("border-r","border","right"),"tw.border")}),t.add(function(){n("border.border.b.all",i("border-b","border","bottom"),"tw.border")}),t.add(function(){n("border.rounded",i("rounded","rounded",""),"tw.border")}),t.add(function(){n("border.rounded.t.all",i("rounded-t","rounded","top-left"),"tw.border")}),t.add(function(){n("border.rounded.l.all",i("rounded-l","rounded","top-left"),"tw.border")}),t.add(function(){n("border.rounded.r.all",i("rounded-r","rounded","top-right"),"tw.border")}),t.add(function(){n("border.rounded.b.all",i("rounded-b","rounded","bottom-right"),"tw.border")}),t.add(function(){n("border.rounded.tl.all",i("rounded-tl","rounded","top-left"),"tw.border")}),t.add(function(){n("border.rounded.tr.all",i("rounded-tr","rounded","top-right"),"tw.border")}),t.add(function(){n("border.rounded.bl.all",i("rounded-bl","rounded","bottom-left"),"tw.border")}),t.add(function(){n("border.rounded.br.all",i("rounded-br","rounded","bottom-right"),"tw.border")}),d.getDevicesMarginAndPaddingControlFactory=function(n,f){function t(t){["all"].forEach(function(e){t(e,e==L.size_for_all?"":"-"+e,L.prefix+n+"."+e)})}return function(){function a(e,t,s){for(var n in N){var r=function(e){for(var t=s+"."+e,n=N[e].directions,r=[],i=0;i<3;i++){var a=n[i],o=h.values[t+a];o&&(o=o.split("-"),r.push({direction:a,value:o[o.length-1]}))}return 0<r.length?r:null}(n),i=G[e][n];if(i.removeClass("active"),r&&0<r.length)for(var a=0;a<r.length;a++){for(var o=r[a],l=o.value,c=o.direction,d=N[n].directions,u=3;u<d.length;u++){var p,f,g=d[u];!function(e,t){if(""==t)return!0;if("x"==t){if(-1<["r","l"].indexOf(e))return!0}else if("y"==t&&-1<["t","b"].indexOf(e))return!0;return!1}(g,c)||h.values[f=s+"."+n+g]||(p=B[e][n+g],h.values[f]=f=n+g+(t?"-"+t:"")+"-"+l,p.setValue(f))}if(""==o.direction){i.addClass("active");break}}}}var h=new PgCustomPropertyControl(L.prefix+n);return h.onDefine=function(){t(function(e,t,n){for(var r in N)for(var i=N[r].directions,a=0;a<i.length;a++){var o=f(e,r,i[a],t),s=n+"."+r+i[a];h.registerInputField(s,o)}})},h.onShow=function(){var s,l,c,d,u,p=$('<div class="crsa-css-gui bs4-margin-and-padding"></div>');return t(function(e,t,n){var r=$('<div class="margin-and-padding-container text-center" data-device-size="'+e+'"></div>').appendTo(p),i=($("<label/>",{class:"size-label"}).html('<span class="tw-device-size">'+e+"</span>").appendTo(r),B[e]={},G[e]={},c=f(e,s="m",l="t",t),u=n+"."+s+l,(d=h.showInputField(r,u,c)).$field.addClass("crsa-field-margin-top crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,c=f(e,s,l="l",t),u=n+"."+s+l,(d=h.showInputField(r,u,c)).$field.addClass("crsa-field-margin-left crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,$('<div class="margin-border"></div>').appendTo(r)),a=$('<div class="change-all-margin-icon change-all-icon">                        <i class="icon-same"></i>                    </div>').appendTo(i),o=N[s].directions,a=((G[e]["m"]=a).data("frKey","{type}{direction}"),a.data("type",s),a.data("directions",o.slice(3,o.length)),a.data("valueObject",B),a.on("click",w),$('<div class="padding-container"></div>').appendTo(i)),i=(c=f(e,s="p",l="t",t),u=n+"."+s+l,(d=h.showInputField(a,u,c)).$field.addClass("crsa-field-padding-top crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,c=f(e,s,l="l",t),u=n+"."+s+l,(d=h.showInputField(a,u,c)).$field.addClass("crsa-field-padding-left crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,$('<div class="padding-border">                        <div class="change-all-padding-icon change-all-icon"><i class="icon-same"></i></div>                    </div>').appendTo(a).find("> .change-all-icon")),o=N[s].directions;(G[e]["p"]=i).data("frKey","{type}{direction}"),i.data("type",s),i.data("directions",o.slice(3,o.length)),i.data("valueObject",B),i.on("click",w),c=f(e,s,l="r",t),u=n+"."+s+l,(d=h.showInputField(a,u,c)).$field.addClass("crsa-field-padding-right crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,c=f(e,s,l="b",t),u=n+"."+s+l,(d=h.showInputField(a,u,c)).$field.addClass("crsa-field-padding-bottom crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,c=f(e,s="m",l="r",t),u=n+"."+s+l,(d=h.showInputField(r,u,c)).$field.addClass("crsa-field-margin-right crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d,c=f(e,s,l="b",t),u=n+"."+s+l,(d=h.showInputField(r,u,c)).$field.addClass("crsa-field-margin-bottom crsa-small-input crsa-align-center-input crsa-inline-container"),B[e][s+l]=d}),p},h.onSetValues=function(e){var i=!0;t(function(e,t,n){a(e,t,n);var r=h.$element.find('> [data-device-size="'+e+'"]');!function(e){for(var t in N)for(var n=N[t].directions,r=3;r<n.length;r++){var i=n[r];if(h.values[e+"."+t+i])return!0}return!1}(n)?r.removeClass("tw-has-value"):(r.addClass("tw-has-value"),e!=L.size_for_all&&(i=!1))}),i?h.$element.addClass("tw-none-or-all"):h.$element.removeClass("tw-none-or-all")},h}},d.getSpacingControl=function(i){return d.getDevicesMarginAndPaddingControlFactory("margin.padding",function(e,t,n,r){return{type:"select",name:null,default_value:"",drag_starting_index:N[t].points.length,options:function(){return a(t+n+"-",t)},action:"custom",can_make_change_action:"apply_class",preview_class:!0,preview_class_from_value:function(e,t,n){return e},draggable_list:!0,async_options_function:!0,fill_list_on_open:!0,parent_section_id:i,more_prop:{size:e,type:t,direction:n},responsive_class:function(e,t){return"___dummy___"===e?q(e,t):e},get_value:function(e,t,n,r){for(var i=e.getPage().classSetter,a=r.options(r,e,n,t),o=0;o<a.length;o++)if(i.hasClass(e,q(a[o].key)))return a[o].key;var s=r.more_prop.size,l=r.more_prop.type,c=r.more_prop.direction;if(c&&"x"!=c&&"y"!=c){var d,u=L.prefix+"margin.padding."+s+"."+l;if(n[u])return d=p(l,l,c,s,u,n,""),n[u+c]=d;if("r"==c||"l"==c){if(n[u+"x"])return d=p(l+"x",l,c,s,u,n,"x"),n[u+c]=d}else if("t"==c||"b"==c)if(n[u+"y"])return d=p(l+"y",l,c,s,u,n,"y"),n[u+c]=d}return""},set_value:function(e,t,I,n,U,r){for(var i=e.getPage().classSetter,a=(i.removeClass(e,q(n)),r.more_prop.size),o=r.more_prop.type,s=r.more_prop.direction,l=A(o+s,t),c=N[o].directions,d=N[o].points,u=G[a][o].hasClass("active"),p=[],f=0;f<c.length;f++)for(var g=c[f],h=0;h<d.length;h++){var m=d[h],v=!1,w=q(W(o,g,a,m));if(i.hasClass(e,w)?v=!0:"m"==o&&(w=q(W(o,g,a,"-"+m)),i.hasClass(e,w))&&(m="-"+m,v=!0),v){p[g]=m;for(var _=V(g),b=0;b<_.length;b++)p[_[b]]=m}}var y,x="t"==s?l:p["t"],C="l"==s?l:p["l"],S="r"==s?l:p["r"],s="b"==s?l:p["b"],k={"":p[""],x:p["x"],y:p["y"],t:p["t"],l:p["l"],r:p["r"],b:p["b"]},T={};for(g in u||x&&x==C&&C==S&&S==s?T[""]=u?l:x:(x&&x==s?T["y"]=x:(T["t"]=x,T["b"]=s),C&&C==S?T["x"]=C:(T["l"]=C,T["r"]=S)),k)void 0!==(y=k[g])&&($=W(o,g,a,y),i.removeClass(e,q($)));for(g in T)if(void 0!==(y=T[g]))for(var $=W(o,g,a,y),z=(i.addClass(e,q($),L.classSorter),j=D=O=F=void 0,o),P=a,E=y,F=V(g),O=0;O<F.length;O++){var D=F[O],j=B[P][z+D],D=W(z,D,P,E);j&&j.setValue(D)}return t}}})},d.getDevicesPositionControlFactory=function(n,c){function t(t){["all"].forEach(function(e){t(e,e==L.size_for_all?"":e+":",L.prefix+n+"."+e)})}var d,u,p,k=["0","auto"];return function(){var S=new PgCustomPropertyControl(L.prefix+n);return S.onDefine=function(){t(function(e,t,n){for(var r=3;r<U.length;r++){var i=U[r];d=c(e,t,i),p=n+"."+i,S.registerInputField(p,d)}})},S.onShow=function(){var l=$('<div class="crsa-css-gui tw-position"></div>');return t(function(e,t,n){j[e]={};for(var r=$('<div class="position-container text-center" data-device-size="'+e+'"></div>').appendTo(l),i=($("<label/>",{class:"size-label"}).html('<span class="tw-device-size">'+e+"</span>").appendTo(r),3);i<U.length;i++){var a=U[i];d=c(e,t,a),p=n+"."+a,(u=S.showInputField(r,p,d)).$field.addClass("crsa-field-"+a+" crsa-small-input crsa-align-center-input crsa-inline-container"),j[e][a]=u}var o=$('<div class="position-overall-border"></div>').appendTo(r),s=($('<div class="position-padding-top"></div>').appendTo(o),$('<div class="position-padding-left"></div>').appendTo(o),$('<div class="position-border"></div>').appendTo(o)),o=($('<div class="position-padding-right"></div>').appendTo(o),$('<div class="position-padding-bottom"></div>').appendTo(o),I[e]=$('<div class="change-all-icon"><i class="icon-same"></i></div>').appendTo(s));o.data("frKey","{direction}"),o.data("type",""),o.data("directions",U.slice(3,U.length)),o.data("valueObject",j),o.on("click",w)}),l},S.onSetValues=function(e){var y=!0,x=this.obj,C=x.getPage().classSetter;t(function(e,t,n){for(var r=e,i=n,a=S.obj,o=t?r+":":"",s=a.getPage().classSetter,l=3;l<U.length;l++){var c=U[l],d=i+"."+c;if(!S.values[d])for(var u=0;u<3;u++)for(var p=U[u],f=o+"inset-"+(p?p+"-":""),g=0;g<k.length;g++){var h,m=k[g];s.hasClass(a,q(f+m))&&T(c,p)&&(m=o+c+"-"+m,(h=j[r][c])&&h.setValue(m),S.values[d]=m)}}var v=I[e];v.removeClass("active");for(var w=0;w<Q.length;w++){var _=O("",e,Q[w]);C.hasClass(x,q(_))&&v.addClass("active")}var b=S.$element.find('> [data-device-size="'+e+'"]');!function(e){for(let n=3;n<U.length;n++){var t=U[n];if(S.values[e+"."+t])return!0}return!1}(n)?b.removeClass("tw-has-value"):(b.addClass("tw-has-value"),e!=L.size_for_all&&(y=!1))}),y?S.$element.addClass("tw-none-or-all"):S.$element.removeClass("tw-none-or-all")},S}},d.getPositionControl=function(i){return d.getDevicesPositionControlFactory("position.dir",function(e,t,n){var r={type:"select",name:null,options:function(){return o((t?e+`:`:"")+n+"-",n)},action:"custom",draggable_list:!0,parent_section_id:i,async_options_function:!0,fill_list_on_open:!0,more_prop:{size:e,direction:n},preview_class:!0,responsive_class:function(e,t){return"___dummy___"===e?q(e,t):e},on_preview_class:function(e,t,n,r,i){},get_value:function(e,t,n,r){for(var i=e.getPage().classSetter,a=r.options(),o=0;o<a.length;o++)if(i.hasClass(e,q(a[o].key)))return a[o].key;for(var s=r.more_prop.size,l=r.more_prop.direction,o=0;o<3;o++){var c=U[o];if(T(l,c))for(var d=0;d<Q.length;d++){var u=Q[d],p=O(c,s,u);if(i.hasClass(e,q(p)))return O(l,s,u)}}return""},set_value:function(e,t,n,r,i,a){for(var o=a.more_prop.size,s=a.more_prop.direction,l=e.getPage().classSetter,c=Y(s,t),d=I[o].hasClass("active"),u=[],p=0;p<U.length;p++)for(var f=U[p],g=0;g<Q.length;g++){var h=Q[g],m=q(O(f,o,h));if(l.hasClass(e,m)){u[f]=h;for(var v=D(f),w=0;w<v.length;w++)u[v[w]]=h}}var _,b="top"==s?c:u["top"],y="left"==s?c:u["left"],x="right"==s?c:u["right"],s="bottom"==s?c:u["bottom"],C={"":u[""],x:u["x"],y:u["y"],top:u["top"],left:u["left"],right:u["right"],bottom:u["bottom"]},S={};for(f in d||b&&b==y&&y==x&&x==s?S[""]=d?c:b:(b&&b==s?S["y"]=b:(S["top"]=b,S["bottom"]=s),y&&y==x?S["x"]=y:(S["left"]=y,S["right"]=x)),C)void 0!==(_=C[f])&&(k=O(f,o,_),l.removeClass(e,q(k)));for(f in S)if(void 0!==(_=S[f])){var k=O(f,o,_);if(l.addClass(e,q(k),L.classSorter),!a._skip_setPosValueOnFields){F=E=P=z=void 0;for(var T=o,$=_,z=D(f),P=0;P<z.length;P++){var E=z[P],F=j[T][E],E=O(E,T,$);F&&F.setValue(E)}}}return t}};return r})},d.getDevicesTransformControlFactory=function(n,e,f){function t(t){["all"].forEach(function(e){t(e,e==L.size_for_all?"":e+":",L.prefix+n)})}return function(){var p=new PgCustomPropertyControl(L.prefix+n);return p.onDefine=function(){t(function(e,t,n){for(var r in P)for(var i=P[r].directions,a=0;a<i.length;a++){var o=i[a],s=f(e,t,r,o);p.registerInputField(n+`.${r}${o?"."+o:""}.`+e,s)}})},p.onShow=function(){var u=$('<div class="crsa-css-gui tw-transform"></div>');return t(function(e,t,n){var r,i=$('<div class="transform-container" data-device-size="'+e+'"></div>').appendTo(u),a=($("<label/>",{class:"size-label"}).html('<span class="tw-device-size">'+e+"</span>").appendTo(i),$('<div class="transform-tabs-container"></div>').appendTo(i));for(r in g[e]={},P){g[e][r]={};for(var o=P[r].directions,s=$('<div class="'+r+'-container tw-device-control"></div>').appendTo(a),l=0;l<o.length;l++){var c=o[l],d=f(e,t,r,c);g[e][r][c]=p.showInputField(s,n+`.${r}${c?"."+c:""}.`+e,d)}}}),u},p.onSetValues=function(e){},p}},d.getTransformControl=function(a,o){var $=(a=a||"")?a+":":"";return d.getDevicesTransformControlFactory(a+"transform",$,function(e,t,n,r){var i="translate"==n?"tran.":n;return{type:"select",name:crsaCamelize(i)+" "+(r?r[0].toUpperCase():""),options:function(){return s(n+"-"+(r?r+"-":""),n,r)},action:"custom",draggable_list:!0,parent_section_id:o,async_options_function:!0,fill_list_on_open:!0,more_prop:{size:e,type:n,direction:r,prefix:a,clsPrefix:$},get_value:function(e,t,n,r){for(var i=e.getPage().classSetter,a=r.options(),o=0;o<a.length;o++)if(i.hasClass(e,q(a[o].key)))return a[o].key;var s=r.more_prop.size,l=r.more_prop.type,c=r.more_prop.direction,d=r.more_prop.prefix;if("scale"==l)for(var u=P[l].points,o=0;o<u.length;o++){var p=u[o],f=s==L.size_for_all?"":s+":";if(i.hasClass(e,q(f+$+l+"-"+p)))return n[""+L.prefix+d+`transform.${l}${c?"."+c:""}.`+s]=f+$+l+"-"+c+"-"+p}return""},set_value:function(e,t,n,r,i,a){var o,s=e.getPage().classSetter,l=(s.removeClass(e,q(r)),a.more_prop.size),c=a.more_prop.type,d=a.more_prop.direction;if("scale"==c){for(var u=P[c].points,p=P[c].directions,f=Y(c+`-`+d,t),g=[],h=["",...p],m=0;m<h.length;m++)for(var v=h[m],w=0;w<u.length;w++){var _=u[w],b=q(z(c,v,l,_,$));if(s.hasClass(e,b)){g[v]=_;for(var y=""!==(o=v)?[o]:["x","y"],x=0;x<y.length;x++)g[y[x]]=_}}var C,S,p="x"==d?f:g["x"],d=null==(d="y"==d?f:g["y"])?null:d,k={"":g[""],x:g["x"],y:g["y"]},T={};for(v in(p=null==p?null:p)&&p==d?T[""]=p:(T["x"]=p,T["y"]=d),k)null!=(C=k[v])&&(S=z(c,v,l,C,$),s.removeClass(e,q(S)));for(v in T)null!=(C=T[v])&&(S=z(c,v,l,C,$),s.addClass(e,q(S),L.classSorter))}else s.addClass(e,q(t),L.classSorter);return t}}})},d.getDevicesBorderControlFactory=function(n,v){function t(t){["all"].forEach(function(e){t(e,e==L.size_for_all?"":e+":",L.prefix+n)})}return function(){var m=new PgCustomPropertyControl(L.prefix+n);return m.onDefine=function(){t(function(e,t,n){for(var r in K)for(var i=K[r].directions,a=0;a<i.length;a++){var o=i[a],s=v(e,t,r,o);m.registerInputField(n+`.${r}${o?"."+o:""}.`+e,s)}})},m.onShow=function(){var h=$('<div class="crsa-css-gui tw-border"></div>');return t(function(e,t,n){J[e]={},H[e]={};var r=$('<div class="border-radius-container text-center" data-device-size="'+e+'"></div>').appendTo(h),i=($("<label/>",{class:"size-label"}).html('<span class="tw-device-size">'+e+"</span>").appendTo(r),null),a=$('<div class="control-container"></div>').appendTo(r),o="rounded";J[e][o]={};for(var i=K[o].directions,s=5;s<i.length;s++){var l=i[s],c=v(e,t,o,l),d=n+`.${o}${l?"."+l:""}.`+e,u="",p="";"tl"==l?(u="top-left",p="icon-round_lu"):"tr"==l?(u="top-right",p="icon-round_ru"):"bl"==l?(u="bottom-left",p="icon-round-ld"):"br"==l&&(u="bottom-right",p="icon-round_rd"),(f=J[e][o][l]=m.showInputField(a,d,c)).$field.addClass("crsa-radius-field crsa-small-input crsa-align-left-input crsa-inline-container has-icon-before crsa-field-border-"+u+"-radius"),$('<i class="'+p+'"></i>').insertBefore(f.$field.find("input"))}$('<div class="border-radius-border"></div>').appendTo(a),J[e][o="border"]={},i=K[o].directions;for(s=1;s<i.length;s++){var f,l=i[s],c=v(e,t,o,l),d=n+`.${o}${l?"."+l:""}.`+e,u="";"t"==l?u="top":"l"==l?u="left":"r"==l?u="right":"b"==l&&(u="bottom"),(f=J[e][o][l]=m.showInputField(a,d,c)).$field.addClass("crsa-border-field crsa-small-input crsa-align-left-input crsa-field-border-"+u)}var r=$('<div class="change-all-container"></div>').appendTo(r),g=(i=K[o="border"].directions,H[e][o]=$('<div data-type="width" class="change-all-icon"><i class="icon-same"></i></div>').appendTo(r)),g=(g.data("frKey","{type}"),g.data("sdKey","{direction}"),g.data("type",o),g.data("directions",i.slice(1)),g.data("valueObject",J),g.on("click",w),i=K[o="rounded"].directions,H[e][o]=$('<div class="change-all-border-raduis"><i class="icon-round_lu"></i><i class="icon-same"></i></div>').appendTo(r));g.data("frKey","{type}"),g.data("sdKey","{direction}"),g.data("type",o),g.data("directions",i.slice(5)),g.data("valueObject",J),g.on("click",w)}),h},m.onSetValues=function(e){var l=this.obj,c=l.getPage().classSetter;t(function(e,t,n){for(const s in K)for(var r=H[e][s],i=(r.removeClass("active"),K[s].points),a=0;a<i.length;a++){var o=M(s,"",e,i[a]);c.hasClass(l,q(o))&&r.addClass("active")}})},m}},d.getBorderControl=function(t){return d.getDevicesBorderControlFactory("border",function(e,y,n,r){return{type:"select",name:"",show_empty:!0,options:function(){var e=n+(r?"-"+r:""),t=function(e,t){if("border"==e)switch(t){case"t":return"top";case"l":return"left";case"r":return"right";case"b":return"bottom";default:return null}else if("rounded"==e)switch(t){case"tl":case"l":case"t":return"top-left";case"tr":case"r":return"top-right";case"bl":return"bottom-left";case"br":case"b":return"bottom-right";default:return null}}(n,r);return i(e,n,t)},action:"custom",can_make_change_action:"apply_class",draggable_list:!0,async_options_function:!0,fill_list_on_open:!0,parent_section_id:t,more_prop:{size:e,type:n,direction:r},responsive_class:function(e,t){return"___dummy___"===e?q(e,t):e},get_value:function(e,t,n,r){for(var i=e.getPage().classSetter,a=r.options(),o=0;o<a.length;o++)if(i.hasClass(e,q(a[o].key)))return a[o].key;var s=r.more_prop.type,l=r.more_prop.size,c=r.more_prop.direction,d=y?l+`:`:"",u=c?"-"+c:"",p=L.prefix+`border.${s}${c?"."+c:""}.`+l,f=K[s].points,g=K[s].directions,h=g.length-1;"border"==s?h=1:"rounded"==s&&(h=5);for(o=0;o<h;o++)for(var m=g[o],v=m?"-"+m:"",w=0;w<f.length;w++){var _=f[w],_=_?"-"+_:"",b=d+s;if(i.hasClass(e,q(b+v+_))&&function(e,t){if(""==t)return!0;if("t"==t){if(-1<["tl","tr"].indexOf(e))return!0}else if("r"==t){if(-1<["tr","br"].indexOf(e))return!0}else if("b"==t){if(-1<["bl","br"].indexOf(e))return!0}else if("l"==t&&-1<["tl","bl"].indexOf(e))return!0;return!1}(c,m))return n[p]=b+u+_}return""},set_value:function(e,t,U,n,A,r){for(var i=e.getPage().classSetter,a=(i.removeClass(e,q(n)),r.more_prop.type),o=r.more_prop.size,s=r.more_prop.direction,l=K[a].points,c=K[a].directions,d=(n=l,d=Y(a+`-`+s,t),-1<n.indexOf(d)?d:null),u=H[o][a].hasClass("active"),p=[],f=0;f<c.length;f++)for(var g=c[f],h=0;h<l.length;h++){var m=l[h],v=q(M(a,g,o,m));if(i.hasClass(e,v)){p[g]=m;for(var w=R(a,g),_=0;_<w.length;_++)p[w[_]]=m}}var b,y,x,C,S,k,T,$={},z={};for(g in"border"==a?(b="t"==s?d:p["t"],y="l"==s?d:p["l"],x="r"==s?d:p["r"],C="b"==s?d:p["b"],$={"":p[""],t:p["t"],l:p["l"],r:p["r"],b:p["b"]},u||(b||""==b)&&b==y&&y==x&&x==C?z[""]=u?d:b:(z["t"]=b,z["l"]=y,z["r"]=x,z["b"]=C)):"rounded"==a&&(b="tl"==s?d:p["tl"],y="tr"==s?d:p["tr"],x="bl"==s?d:p["bl"],C="br"==s?d:p["br"],S={},s=function(e){return!S[e]},k=function(e){delete z[e],S[e]=!0},$={"":p[""],t:p["t"],l:p["l"],r:p["r"],b:p["b"],tl:p["tl"],tr:p["tr"],bl:p["bl"],br:p["br"]},u||b&&b==y&&y==x&&x==C?z[""]=u?d:b:(b&&b==y?(z["t"]=b,k("tl"),k("tr")):(s("tl")&&(z["tl"]=b),s("tr")&&(z["tr"]=y)),b&&b==x?(z["l"]=b,k("tl"),k("bl")):(s("tl")&&(z["tl"]=b),s("bl")&&(z["bl"]=x)),y&&y==C?(z["r"]=y,k("tr"),k("br")):(s("tr")&&(z["tr"]=y),s("br")&&(z["br"]=C)),x&&x==C?(z["b"]=x,k("bl"),k("br")):(s("bl")&&(z["bl"]=x),s("br")&&(z["br"]=C)))),$)void 0!==(T=$[g])&&(P=M(a,g,o,T),i.removeClass(e,q(P)));for(g in z)if(void 0!==(T=z[g]))for(var P=M(a,g,o,T),E=(i.addClass(e,q(P),L.classSorter),I=j=D=O=void 0,a),F=o,V=T,O=R(E,g),D=0;D<O.length;D++){var j=O[D],I=J[F][E][j],j=M(E,j,F,V);I&&I.setValue(j)}return t}}})},d.init(),d},TwCustomizer=function(c,m,h,n,e,d,r){function i(e,t){var n=new CrsaProfile,a=(w=!1,b={},y=[],x={},C={},S={},k={},T=["all"],z=[],P={all:{name:"ALL",name_short:"ALL",w:0,size:"all",slug:""}},F={},0);try{function l(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n.type===CSSRule.STYLE_RULE){var r=n.selectorText.replace("\\.","--dot--").match(c);if(r)for(var i,a,o,s=0;s<r.length;s++)r[s].indexOf(".pg-")<0&&((o=(o=(o=(o=(o=(o=r[s].replace(/\\3([0-9]+)\s?/,"$1")).replace(d,"$1")).replace(u,"")).replace("--dot--",".")).replace(/^dark\:/,"")).replace(/\:dark\:/,":"))in b||(b[o]=!0,0<=(i=(a=n.cssText).indexOf("{"))&&(a=a.substr(i)),y.push({class:o,rule:n,props:a}),3===(i=o.split(":")).length&&(T.indexOf(i[0])<0&&o.indexOf("dark:")<0&&(T.push(i[0]),P[i[0]]={name:i[0].toUpperCase(),name_short:i[0].toUpperCase(),w:600,size:i[0],slug:"-"+i[0]},n.parentRule)&&n.parentRule.type===CSSRule.MEDIA_RULE&&(a=n.parentRule.media.mediaText.match(/min\-width\:\s?([0-9]+)px/))&&(o=parseInt(a[1]),P[i[0]].w=o,P[i[0]].name+=`<span style="opacity:0.7;"> / ${o}px and up</span>`),z.indexOf(i[1])<0)&&z.push(i[1])))}n.cssRules&&l(n.cssRules)}}var c=/\.(\\3[0-9]+\s[a-z0-9\\\:\-\/]+|[a-z0-9\\\:\-\/]+)/gi,d=/([a-z0-9])(:[a-z:\-]+)/,u=/[\.\\]/g,o=/^text\-([a-z]+)\-([0-9]+)$/,s=["opacity"],p=["white","black","current","transparent","inherit"];t&&l(t.cssRules),E=[];for(var r=0;r<T.length;r++)r<T.length-1?P[T[r]].w_range=[P[T[r]].w,P[T[r+1]].w-1]:P[T[r]].w_range=[P[T[r]].w,9999],m.length>r?P[T[r]].icon=m[r]:P[T[r]].icon="icon-Lg",E.push(P[T[r]]);y.forEach(function(e){var t,n=e.class,r=e.rule,i=h(n,T);i.class,"all"===i.size&&(i.class.match(o),n.startsWith("text-"))&&(n=r.style.getPropertyValue("color"))&&(r=null,t="noshade",(i=i.class.split("-")).shift(),1<i.length&&(t=i.pop()),r=i.join("-"),0<=p.indexOf(r)&&"noshade"===t||s.indexOf(r)<0&&(n=n.replace("var(--text-opacity)","1").replace("var(--tw-text-opacity)","1"),x[r]||(x[r]={},a++),x[r][t]=n)),delete e.rule}),20<y.length&&1<a&&(w=!0,_=!1),n.show("TW GET CLASSES")}catch(e){}}var t="function"==typeof(d=d||{})["onTailwindUpdated"]?d["onTailwindUpdated"]:function(){},v=this,w=!1,_=!0,b=(this.has_data=function(){return w},{}),y=[],x={},C={},S={},k={},T=[],z=[],P={},E=[],F={},a={},u={},o=[],s={};this.onProjectClosed=function(){this.useDefaults(),s={}},this.getTheme=function(){var n,e,r,i,a,o,s,t;if(3<=d.onGetTWVersion())return pgDmStore.isDesignEnabled(PgDmDesignProviderForTailwind)?d.framework.twIsUsingExternalBuild()?this.getExternalConfigSettings()?void this.requestUpdateFromJIT():void pinegrow.showAlert(`<p>Go to the Design panel and open "Compiler &amp; custom config" options to select the Tailwind CSS config and CSS files. That will allow ${pgf.product_name_short} to adjust visual controls to your custom configuration.</p>`,"Additional setup is needed"):void pinegrow.showAlert(`<p>Visual controls are automatically customized because this project is using the built-in Tailwind CSS compiler. There is nothing extra to do.</p>`,"Visual controls are already customized"):void(d.framework.twIsUsingExternalBuild()&&((e=this.getExternalConfigSettings())?this.requestUpdateFromJIT():this.editExternalConfigSettings(e,function(e,t){})));pinegrow.getCurrentProject()?(e=(n=pinegrow.getSelectedPage()).hasStylesheet(/tailwind/))&&0?v.update(n,e):(e={},0===(t=n.getAllDOMStylesheets()).length&&pinegrow.showQuickError("The page has no stylesheets to inspect!"),r=pinegrow.getCurrentProjectInfo(),i={},a=pinegrow.getCurrentProject(),o=(o=r.getSetting("tw-custom-stylesheet"))&&r.makeUrlAbsolute(o),s=!1,t=t.map(function(e){var t=pinegrow.getOriginalUrl(e.href),n=(i[t]=e,(o=!o&&e.href.match(/tailwind/)?t:o)&&t===o&&(s=!0),t);return a&&(t=a.getRelativeUrl(t)),{key:n,name:crsaGetSummaryStr(t,40)}}),s||(o=null),e.url={name:"Stylesheet",type:"select",show_empty:!0,options:t,validate:function(e,t,n){return n?null:"Please select the stylesheet with Tailwind classes."},value:o},pinegrow.showQuickDialog(`Customize Tailwind visual controls`,"Where to look for Tailwind classes?",`<p>Please select the stylesheet that contains Tailwind CSS rules so that Tailwind visual controls can be adjusted to your Tailwind theme.</p><p>This operation can take a couple of seconds to complete. Learn more about <a href="https://pinegrow.com/docs/tailwind/customized-themes/" class="external">Tailwind CSS customization</a>.</p>`,e,"Cancel","Customize visual controls",null,function(e){r.setSetting("tw-custom-stylesheet",r.makeUrlRelative(e.url)),r.save();var t=i[e.url];v.update(n,t)})):pinegrow.showQuickError("Please open the page as project to use customized Tailwind visual controls.")};this.setScreensFromConfigValues=function(e){(T=[]).push("all"),P={all:{name:"ALL",name_short:"ALL",w:0,size:"all",slug:""}},$.each(e,function(e,t){t=crsaConvertCSSValueToPx(t),T.push(e),P[e]={name:e,name_short:e,w:t,size:e,slug:e}}),this.orderScreens(T,P),E=[];for(var t=0;t<T.length;t++)t<T.length-1?P[T[t]].w_range=[P[T[t]].w,P[T[t+1]].w-1]:P[T[t]].w_range=[P[T[t]].w,9999],m.length>t?P[T[t]].icon=m[t]:P[T[t]].icon="icon-Lg",E.push(P[T[t]])},this.orderScreens=function(e,n){e.sort(function(e,t){return e=n[e],t=n[t],!e||!t||(void 0===e._pxSize&&(e._pxSize=crsaConvertCSSValueToPx(e.w)),void 0===t._pxSize&&(t._pxSize=crsaConvertCSSValueToPx(t.w)),isNaN(e._pxSize))||isNaN(t._pxSize)?0:e._pxSize-t._pxSize})},this.tailwindIsBeingUpdating=function(){t()},this.save=function(e){var t,n;!this.has_data()||_&&!e||(t={options:k,colors:x,screens:T,pseudo_states:z,screen_sizes:P,screen_defs:E},e?(n=d.framework.getResourceFile("resources/tailwind.theme.json"),require("fs").writeFileSync(n,JSON.stringify(t),{encoding:"utf8"})):pinegrow.getCurrentProjectInfo().saveFile("tailwind.theme.json",JSON.stringify(t)))},this.load=function(e){function t(){if(n)try{k={},y=[];var e="string"==typeof n?JSON.parse(n):n;e.options?k=e.options:y=e.list,x=e.colors,T=e.screens,z=e.pseudo_states,P=e.screen_sizes,E=e.screen_defs,w=!0,F={},_&&pinegrow.dispatchEvent("on_tw_default_theme_loaded",null,v),v.tailwindIsBeingUpdating(),c.reregister(),_?console.log("Default Tailwind CSS theme info loaded."):(console.log("Tailwind CSS theme info loaded from _pginfo."),pinegrow.showQuickMessage("Using custom Tailwind CSS controls.")),pinegrow.dispatchEvent("on_page_frameworks_changed",null)}catch(e){}v.requestUpdateFromJIT()}var n;w=!1,e||(n=pinegrow.getCurrentProjectInfo().loadFile("tailwind.theme.json"));if(n)_=!1;else{if(!isApp())return r=d.framework.getResourceUrl("resources/tailwind.theme.json"),void $.getJSON(r,function(e){n=e,_=!0,t()});var r=d.framework.getResourceFile("resources/tailwind.theme.json");try{n=require("fs").readFileSync(r,{encoding:"utf8"}),_=!0}catch(e){console.error("Unable to load default TW theme from "+r)}}t()},this.loadV4=async function(){try{var e=await(new PgTailwindConfigReaderV4).getConfig(),t=(n="resources/tailwind4_utilities.json",await(isApp()?(r=d.framework.getResourceFile(n),require("fs").promises.readFile(r,{encoding:"utf8"})):(r=d.framework.getResourceUrl(n),(await fetch(r)).text())));a=JSON.parse(t),o=Object.keys(e.container),pinegrow.dispatchEvent("on_tailwind_config_received",null,{theme:e,version:4}),_=!0}catch(e){console.error("Unable to fetch TW4 config",e),pinegrow.showQuickError("Unable to fetch Tailwind 4 config.")}var n,r},this.useDefaults=function(){w=!1,c.reregister(),pinegrow.dispatchEvent("on_page_frameworks_changed",null)},this.restoreDefaults=function(){this.useDefaults(),pinegrow.getCurrentProjectInfo().deleteFile("tailwind.theme.json"),this.load(!0),pinegrow.showQuickMessage("Visual controls now use default Tailwind CSS values.")},this.update=function(e,t){i(0,t),this.has_data()?(this.tailwindIsBeingUpdating(),c.reregister(),this.save(),pinegrow.dispatchEvent("on_page_frameworks_changed",null),pinegrow.refreshCurrentProjectDelayed(!0),pinegrow.showQuickMessage("Tailwind visual controls updated!")):pinegrow.showQuickError("Could not get the information about the Tailwind CSS theme from the selected stylesheet.")};var p={},O=(this.isTailwindThemeFile=function(e){return s[e]||!1},this.getContainerSizes=function(){return o},this.editExternalConfigSettings=async function(r,i){var e={},l=(r=r||this.getExternalConfigSettings(!0,e)||{},pinegrow.getCurrentProject()),t={};const a=d.framework.twIsUsingExternalBuild();"dp"!==e.source&&(t.enabled={type:"checkbox",name:"Use external Tailwind CSS compiler",helptext:"Check to connect Pinegrow with the external Tailwind CSS compiler.",value:"1",negvalue:"0",default_value:a?"1":"0"});let o=await(new PgExternalTailwindVersionDetector).detect(!1);if(o){let s=o<4;s&&(t.external_config_url={name:"Config file",type:"text",value:r.external_config_url,file_picker_use_project_as_parent:!0,file_picker:!0,file_picker_no_proxy:!0,show_if:"enabled==1",validate:function(e,t,n,r,i,a){var o;if("1"===a.enabled&&s)return n?(o=l.getAbsoluteUrl(n),crsaIsFileExist(crsaMakeFileFromUrl(o))?void 0:"The file does not exist."):"Tailwind CSS config file is required."},helptext:`<p>Select the file that contains Tailwind CSS configuration. This file is usually named <code>tailwind.config.js</code>.</p>`}),t.external_source_url={name:"Source CSS file",type:"text",value:r.external_source_url,file_picker_use_project_as_parent:!0,file_picker:!0,file_picker_no_proxy:!0,show_if:"enabled==1",validate:function(e,t,n,r,i,a){var o;if("1"===a.enabled)return n?(o=l.getAbsoluteUrl(n),crsaIsFileExist(crsaMakeFileFromUrl(o))?void 0:"The file does not exist."):"Source CSS file is required."},helptext:`<p>Select the source css file of your external build process. That is usually the css file that contains statement:</p>
<pre>
${s?`@tailwind base;
@tailwind components;
@tailwind utilities;`:`@import "tailwindcss";`}
</pre>`},pinegrow.showQuickDialog("Tailwind CSS External Build Configuration",`Options`,`<p>Provide information about files that contain Tailwind configuration to customize controls with your custom colors, spacings and other properties.</p>`,t,"Cancel","Save",function(){i&&i(null,!1)},function(e){var t,n=r.external_config_url!==e.external_config_url||r.external_source_url!==e.external_source_url||e.enabled!==a;r.external_config_url=e.external_config_url,r.external_source_url=e.external_source_url,n&&((t=pinegrow.getCurrentProject().getProjectInfo()).setSetting("tw-external-config",r),t.save(),e.enabled!==a&&d.framework.twSetUsingExternalBuild("1"===e.enabled,o),"1"===e.enabled)&&v.requestUpdateFromJIT(),i&&i(r,n)})}else i&&i(null,!1)},this.getExternalConfigSettings=function(e,t){t=t||{};var n=pinegrow.getCurrentProject();let r,i=d.onGetTWVersion()<4;var a;return pgDmStore.isDesignEnabled(PgDmDesignProviderForTailwind)?(a=pgDmStore.getActiveDesignProvider(),r=a.settings,t.source="dp",a.useExternalBuild()||(r=null)):(a=n.getProjectInfo(),r=a.getSetting("tw-external-config",{}),t.source="project"),r&&(!i||r?.external_config_url)&&r?.external_source_url||e?r:null},this.requestUpdateFromJIT=async function(){const e=pinegrow.getCurrentProject();if(e){const r=this.getExternalConfigSettings();var t,n;r&&(t=r.external_config_url?e.getAbsolutePath(r.external_config_url):null,n=e.getAbsolutePath(r.external_source_url),s={},t&&(s[crsaMakeUrlFromFile(t)]=!0),s[crsaMakeUrlFromFile(n)]=!0,pinegrow.showQuickMessage("Fetching custom Tailwind configuration..."),pgAdaptor.requestTailwindExternalConfig(e.getDir(),t,n))}},this.updateFromJIT=function(e){var t=this;u={};if(e){var a=e;if(pgIsDev()&&console.log("Got Tailwind CSS data from the external build process.",a),4===a?.version){const s={};function n(e,n,r,t,i){n=n||e,r=r||e,a.theme[e]&&(t&&(s[n+`-none`]=` ${r}: none;`),$.each(a.theme[e],function(e,t){s[n+`-`+e]=` ${r}: ${t};`}),i)&&i.forEach(function(e){s[n+`-`+e]=` ${r}: ${e};`})}var r=[];for(let e=1;e<=40;e++)r.push(e.toString());n("animate"),n("aspect",null,"aspect-ratio"),n("blur",null,"--tw-blur"),n("blur","backdrop-blur","--tw-backdrop-blur"),n("drop-shadow",null,"--tw-drop-shadow"),n("ease",null,"transition-timing-function"),n("font",null,"font-family"),n("font-weight","font"),n("leading",null,"line-height",!1,r),n("radius","rounded","border-radius",!0,["full"]),n("shadow","shadow","box-shadow",!0),n("inset-shadow","inset-shadow","inset-shadow",!0),n("text",null,"font-size"),n("tracking",null,"letter-spacing"),$.each(a.theme.color,function(n,e){"object"==typeof e?$.each(e,function(e,t){s[`text-${n}-`+e]=` color: ${t};`}):s[`text-`+n]=` color: ${e};`});var i=["hover","focus","focus-within","focus-visible","active","visited","target","*","**","has-[variant]","group-[variant]","peer-[variant]","in-[variant]","not-[variant]","inert","first","last","only","odd","even","first-of-type","last-of-type","only-of-type","nth-[...]","nth-last-[...]","nth-of-type-[...]","nth-last-of-type-[...]","empty","disabled","enabled","checked","indeterminate","default","optional","required","valid","invalid","in-range","out-of-range","placeholder-shown","autofill","read-only","before","after","first-letter","first-line","marker","selection","file","backdrop","placeholder","@3xs","@2xs","@xs","@sm","@md","@lg","@xl","@2xl","@3xl","@4xl","@5xl","@6xl","@7xl","@max-3xs","@max-2xs","@max-xs","@max-sm","@max-md","@max-lg","@max-xl","@max-2xl","@max-3xl","@max-4xl","@max-5xl","@max-6xl","@max-7xl","dark","portrait","landscape","motion-safe","motion-reduce","contrast-more","contrast-less","print","supports-[...]","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-hidden","aria-pressed","aria-readonly","aria-required","aria-selected","aria-[...]","data-[...]","rtl","ltr","open","forced-colors","starting"];function o(e){i.indexOf(e)<0&&i.push(e)}const l={};$.each(a.theme.breakpoint,function(e,t){l[e]=t,o(e),o(`max-`+e),o("@"+e),o(`@max-`+e)}),u=a.theme,a.classListRaw=s,a.config={theme:{screens:l}},a.variants=i}f(a.classListRaw,a.config,a.variants),t.has_data()?(t.tailwindIsBeingUpdating(),c.reregister(a.classList,a.variants),p=t.getCustomUnusedClasses(),pinegrow.dispatchEvent("on_page_frameworks_changed",null),pinegrow.refreshCurrentProjectDelayed(!0),pinegrow.showQuickMessage("Tailwind visual controls updated!")):pinegrow.showQuickError("Could not get the information about the Tailwind CSS theme from the external build process.")}},{}),D={},f=function(e,n,r){var i,a=new CrsaProfile,o=(w=!1,b={},y=[],x={},C={},S={},k={},T=["all"],z=[],P={all:{name:"ALL",name_short:"ALL",w:0,size:"all",slug:""}},F={},D={},O={},0);try{$.each(n.theme.screens,function(e,t){var n=t.replace(/^[0-9\.]+/,""),r=parseInt(t.replace(n,"")),t=r;"px"!==n&&(t="rem"===n?16*r:pgConvertCSSUnit(r,n,"px")),T.push(e),P[e]={name:e.toUpperCase(),name_short:e.toUpperCase(),w:600,size:e,slug:"-"+e},P[e].w=t,P[e].name+=`<span style="opacity:0.7;"> / ${r}${n} and up</span>`}),v.orderScreens(T,P),z=r.filter(function(e){return!P[e]});let t=0;var s=z.map(function(e){return{state:e,idx:t++}}),l=(s.sort(function(e,t){return"@"===e.state.charAt(0)?"@"===t.state.charAt(0)?e.idx-t.idx:-1:"@"===t.state.charAt(0)?1:e.state.localeCompare(t.state)}),z=s.map(function(e){return e.state}),["opacity"]),c=["white","black","current","transparent"],d=function(e){var n="";return $.each(e,function(e,t){n+="object"==typeof t?e+": "+d(t)+";":e+": "+t+";"}),n};(i=e)&&$.each(i,function(e,t){var n,r,i=t;e in b||(b[e]=!0,"string"==typeof(i=t)?(0<=(n=i.indexOf("{"))&&(i=i.substr(n)),y.push({class:e,props:i})):(r="{",$.each(Object.values(i)[0],function(e,t){switch(r+=e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()+":",typeof t){case"string":r+=t+";";break;case"object":r+=d(t)}}),r+="}",y.push({class:e,props:r})),D[e]=!0)}),E=[];for(var u,p,f,g,h=0;h<T.length;h++)h<T.length-1?P[T[h]].w_range=[P[T[h]].w,P[T[h+1]].w-1]:P[T[h]].w_range=[P[T[h]].w,9999],m.length>h?P[T[h]].icon=m[h]:P[T[h]].icon="icon-Lg",E.push(P[T[h]]);y.forEach(function(e){var t,n,r,i=e.class;i.startsWith("text-")&&(t=e.props.match(/\Wcolor:([^;\}]+)/m))&&(t=t[1].trim(),n=null,r="noshade",(i=i.split("-")).shift(),1<i.length&&(r=i.pop()),n=i.join("-"),0<=c.indexOf(n)&&"noshade"===r||l.indexOf(n)<0&&(t=t.replace("var(--text-opacity)","1").replace("var(--tw-text-opacity)","1"),x[n]||(x[n]={},o++),x[n][r]=t))}),20<y.length&&1<o&&(w=!0,_=!1),a.show("TW GET CLASSES"),pgIsDev()&&0&&(u=y.map(function(e){return{class:e["class"],props:e.props.replace("{","").replace("}","").split(";").map(function(e){return e.trim().replace(/ /g,"")}).filter(function(e){return!!e})}}),p={},f=[],u.forEach(function(e){1===e.props.length?p[e.props[0]]||(p[e.props[0]]=e.class):f.push(e)}),g={prop_to_class:p,screens:n.theme.screens},require("fs").writeFileSync("/Users/Matjaz/Dropbox/Development/DVWeb/DV/Pinegrow/PinegrowCodeDevTools/frameworks/tailwindcss/resources/tailwind.info.json",JSON.stringify(g)),console.log(g))}catch(e){console.error(e)}};this.getCustomUnusedProps=function(){return p},this.getScreens=function(){return T},this.getPseudoStates=function(){return z},this.getScreenSizeDefs=function(){return E},this.getScreensObjectWithSizes=function(){const t={};return E.forEach(function(e){"all"!==e.size&&(t[e.size]=e.w_range[0])}),t},this.getClasses=function(e,t,n,r,i){0===y.length&&pgIsDev()&&console.error("TW Customizer: getClasses called on empty list",e,t,n,r,g);var a=/\-[0-9]+$/;if(i){Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++)"string"==typeof i[o]&&(i[o]+=":")}for(var s=e,l=(n&&(s=n+":"+s),t&&(s=t+":"+s),[]),o=0;o<y.length;o++){var c,d=!1,u=y[o].class;if(s?u.startsWith(s)&&(d=!0):"all"==(c=h(u,T)).size&&""==c.state&&(d=!0),d&&(!r||u.match(a))){if(i){for(var p=!1,f=0;f<i.length;f++){var g=i[f];if("string"==typeof g){if(y[o].props.indexOf(g)<0){p=!0;break}}else if(!y[o].props.match(g)){p=!0;break}}if(p)continue}l.push(y[o].class)}}return l},this.getColorsForColorPicker=function(i){var t;return C[i]||(t=[[{key:i+"current",name:"current",color:e("current")},{key:i+"transparent",name:"transparent",color:e("transparent")},{key:i+"black",name:"black",color:e("black")},{key:i+"white",name:"white",color:e("white")},{key:i+"inherit",name:"inherit",color:e("inherit")}]],$.each(x,function(n,e){var r=[];$.each(e,function(e,t){r.push({key:i+n+("noshade"===e?"":"-"+e),name:"noshade"===e?n:n+"-"+e,color:t})}),t.push(r)}),C[i]=t),C[i]},this.getColorOptions=function(e){var t;return S[e]||(t=[],n(e).forEach(function(e){e.forEach(function(e){t.push(e)})}),S[e]=t),S[e]},this.getOptions=function(t,e,n,r,i,a){var o="";if(a=a||t,e)if(Array.isArray(e))for(var s=0;s<e.length;s++)o+="_"+e[s];else o=e;var l,c=t+o;return k[c]||(l=[],r&&this.getClasses("-"+a,null,null,null,n||e).reverse().forEach(function(e){l.push({key:e,name:e.replace(a,"")})}),this.getClasses(a,null,null,null,n||e).forEach(function(e){l.push({key:e,name:e.replace(a,"")})}),i&&i(l),a!==t&&l.forEach(function(e){e.key=e.key.replace(a,t)}),k[c]=l),i&&!F[c]&&(i(k[c]),F[c]=!0),k[c].forEach(function(e){e.key in O||(O[e.key]=!0,delete D[e.key])}),k[c]},this.getCustomUnusedClasses=function(){var a=new RegExp(`^(.+)(${this.getColorOptions("").map(function(e){return pgParserEscapeRegExp(e.key)}).join("|")})$`,""),o=/^(.+?)([0-9\.\/\%]+|px|auto|full|first|last|none|[0-9]?xs|sm|md|lg|[0-9]?xl)$/,s=(Object.keys(r()).forEach(function(e){delete D[e]}),{noprop:{values:[]}});Object.keys(D).forEach(function(e){var t="noprop",n=e,r=!1,i=e.match(a),i=(i?(t=i[1],n=i[2],r=!0):(i=e.match(o))?(t=i[1],n=i[2],"-"===t.charAt(0)&&(t=t.substr(1),n="-"+n)):s[e]&&(n="normal",t=e),t);r&&(i+="_color"),s[i]||(s[i]={field_key:i,name:t.replace(/-$/,"")+(r?" color":""),values:[],type:"select"}),s[i].values.push({key:e,name:n}),0&&(s[i]||(s[i]={field_key:t,name:t.replace(/-$/,"")+(r?" color":""),values:r?v.getColorsForColorPicker(t):[],colors:r,type:r?"color":"select"}),r||s[i].values.push({key:e,name:n}))}),s["noprop"].values.forEach(function(e){s[e.key]?s[e.key].values.push(e.values):s[e.key]={name:e.key,field_key:e.key,values:[e],type:"select"}}),delete s["noprop"];{var t=s,e=Object.keys(t).sort();const n={};return e.forEach(e=>{n[e]=t[e]}),n}},this.getUtilOptions=function(e,t){const r=[];return a[e]?a[e].values.forEach(function(e){if((!t||t(e.key))&&!(0<=e.key.indexOf("(custom-property)")||0<=e.key.indexOf("<value>")||0<=e.key.indexOf("[")))if(0<=e.key.indexOf("<number>")){var n=e.key.replace("-<number>","");if(n.startsWith("-"))for(let e=100;1<=e;e--)r.push({key:n+"-"+e,name:(-e).toString()});else for(let t=1;t<=100;t++)r.push({key:n+"-"+t,name:t.toString()})}else e.key.indexOf("<")<0&&r.push(e)}):pgIsDev()&&console.error("TW4 getUtilOptions not defined "+e),r},this.getThemeOptions=function(e,n,t){n=n||e+"-";const r=[];return u[e]&&$.each(u[e],function(e,t){r.push({key:n+e,name:e})}),t&&t.forEach(function(e){r.push({key:n+e,name:e})}),r}};class PgTailwindFieldExtension extends PgFieldExtension{constructor(e,t,n,r){super(),this.twf=pinegrow.findFrameworkByKey("tw"),this.fn=e,this.fdef=t,this.$container=n,this.$input=r,this.info={important:!1};var i=this;this.$container.on("contextmenu",function(e){return e.preventDefault(),i.showMenu(),!1}),t.on_get_value_from_field=this.onGetValue.bind(this),t.on_set_field_value=this.onSetValue.bind(this),this.$element=$(pgE("div",{class:"pg-css-field-pill"})),this.$container.get(0).appendChild(this.$element.get(0)),n.addClass("pg-field-with-css-ext"),n.closest(".crsa-field").addClass("pg-field-with-css-ext-on-crsa-field"),this.$element.on("click",function(e){return e.preventDefault(),i.showMenu(),!1}),this.$input.on("blur",this.onBlur.bind(this)),this.updatePill()}onBlur(e){}onGetValue(e,t,n){return e=e&&this.info.important?"!"+e:e}onSetValue(e,t){return t[this.fn+".class_setter_info"]?this.info=t[this.fn+".class_setter_info"]:this.info={},this.updatePill(),e}destroy(){}updatePill(){var e=this.$element.get(0);this.info.important,e.innerHTML="!",e.setAttribute("data-important",this.info.important?"true":"false")}showMenu(){const t=this;var e=[];pinegrow.selectedElements.getLastSelected(),pinegrow.getSelectedPage();e.push({label:"!important",action:function(){var e=t.$input.val(),e=pgParseCSSValue(e);e.important&&(t.info.important=!0),t.info.important=e.important=!t.info.important,t.updatePill(),t.$input.val(e.original_without_important),t.$input.change()},check:t.info.important}),new CrsaContextMenu(e,this.$element||this.$container).showForElement(this.$element||this.$container)}}class PgExternalTailwindVersionDetector{constructor(){}async detect(t){var e=pinegrow.getCurrentProject(),n=e.getDir(),r=require("path"),r=(r.resolve(n,"./package.json"),r.resolve(n,"./node_modules/tailwindcss/package.json"));let i=3;try{var a=require("fs").promises;(JSON.parse(await a.readFile(r,{encoding:"utf8"})).version||"").startsWith("4")&&(i=4)}catch(e){return t||pinegrow.showAlert(`<p>Unable to detect the Tailwind CSS version of the project. Is Tailwind CSS installed there?</p><p>Error: ${e.toString}</p>`,"Unable to detect Tailwind CSS version",null,"Ok"),null}return e.twUseExternalBuildVersion=i}}